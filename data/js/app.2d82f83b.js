(function(e){function t(t){for(var n,i,s=t[0],u=t[1],c=t[2],p=0,f=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var u=r[s];0!==a[u]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/app/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("8bbf"),a=r.n(n),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h1",[e._v("Reflow Oven")]),r("Header"),r("Graph")],1)},i=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("GChart",{attrs:{type:"LineChart",settings:{packages:["corechart"]},data:e.times,options:e.chartOptions}})},u=[],c=(r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("bc3a")),l=r.n(c);r("2b3d");function p(e,t){return e+"://"+new URL(window.location).hostname+t}var f=[{label:"Time",type:"number"},{label:"Expected temperature",type:"number"},{label:"Mesured temperature",type:"number"}],d={data:function(){return{state:"Stopped",profile:"",times:[f],solderState:0}},methods:{addMesure:function(e){this.times.push(e)},resetMesures:function(){this.times=[f]},setState:function(e){this.state=e},setProfile:function(e){this.profile=e},pointToData:function(e){return[e["millis"],e["expectedTemperature"],e["temperature"]]}},computed:{solderStateString:function(){switch(this.solderState){case 0:return"Warmup";case 1:return"Preheat";case 2:return"Soack";case 4:return"Solder"}}},mounted:function(){var e=this;this.$options.sockets.onmessage=function(t){var r=JSON.parse(t.data);if("newPoint"===r.type){var n=e.pointToData(r.data);e.addMesure(n),e.solderState=r.data.state}else"started"===r.type?(e.resetMesures(),e.setState("Started"),e.setProfile(r.data.profile)):"stopped"===r.type&&e.setState("Stopped")},l.a.get(p("http","/points")).then((function(t){var r=!0,n=!1,a=void 0;try{for(var o,i=t.data[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;e.addMesure(e.pointToData(s))}}catch(u){n=!0,a=u}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}}))}},h={mixins:[d],name:"Graph",data:function(){return{chartOptions:{chart:{title:"Soldering temperatures"}}}}},m=h,b=r("2877"),v=Object(b["a"])(m,s,u,!1,null,null,null),y=v.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("State: "+e._s(e.state)+" "+e._s(e.solderStateStr))]),r("h2",[e._v("Profile: "+e._s(e.profile))])])},g=[],w={mixins:[d],name:"Header",computed:{solderStateStr:function(){return"Started"===this.state?"(".concat(this.solderStateString,")"):""}}},O=w,_=Object(b["a"])(O,S,g,!1,null,null,null),x=_.exports,j={name:"app",components:{Graph:y,Header:x}},P=j,M=(r("034f"),Object(b["a"])(P,o,i,!1,null,null,null)),T=M.exports,k=r("7f34"),G=r.n(k),$=r("b408"),D=r.n($);a.a.use(D.a,p("ws","/ws"),{format:"json",reconnection:!0,reconnectionDelay:1e3}),a.a.config.productionTip=!1,a.a.config.devtools=!0,a.a.use(G.a),new a.a({render:function(e){return e(T)}}).$mount("#app")},"7f34":function(e,t){e.exports=VueGoogleCharts},"85ec":function(e,t,r){},"8bbf":function(e,t){e.exports=Vue}});
//# sourceMappingURL=app.2d82f83b.js.map